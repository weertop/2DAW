<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Abstracto</title>
		
		<script type="text/javascript">
			window.onload = function () {
	document.getElementById("lista1").onchange = rellenar;
	var opciones= document.getElementsByName("opciones");
	for(i=0;i<opciones.length;i++){
		opciones[i].onclick=controlOpciones;	
	}
}

function rellenar(){
	document.getElementById("lista2").length=0; //limpiamos la lista 2
	valor=document.getElementById(this.id).value;
	for(i = 1; i<=3;i++){
		var opcion =document.createElement("option");
		opcion.setAttribute("value" , valor+i);
		var contenido=document.createTextNode(valor+i);
		opcion.appendChild(contenido);
		document.getElementById("lista2").appendChild(opcion);
	}
}
	

function controlOpciones(){
	switch(document.getElementById(this.id).value){
		case 'negro':
			var fechaObj = new Date();
			var fecha = fechaObj.getDate() + "/"+(fechaObj.getMonth()+1)+"/"+ fechaObj.getFullYear();
			var hora = fechaObj.getHours();
			if(hora<10)hora="0"+hora;
			var minutos = fechaObj.getMinutes();
			if(minutos<10)minutos="0"+minutos;
			alert("La fecha actual es: " + fecha + "     Hora: " + hora+":"+minutos);
			break;
		case 'blanco':
			var seleccionada = document.getElementById("lista2").value;
			if(seleccionada==""){
				alert("No hay ninguna opcion seleccionada");
			}else{
				alert("La opcion seleccionada es " + seleccionada);
			}
			break;
		case 'marron':
			var boton =document.createElement("input");
			boton.setAttribute("type" , "button");
			boton.setAttribute("value" , "Hola");
			document.getElementById("contenedor").appendChild(boton);
			break;
	}
}
		</script>
	</head>
	<body>
		<h1>Abstracto</h1>
		<form>
			<table>
				<tr>
					<td>
						<select id="lista1" size="3">
							<option value="uno">Uno</option>
							<option value="dos">Dos</option>
							<option value="tres">Tres</option>
						</select>
					</td>
					<td>
						<select id="lista2" size="3">
				
						</select>
					</td>
					<td>
						<input type="radio" name="opciones" id ="negro" value="negro" /> Negro<br />
						<input type="radio" name="opciones" id ="blanco" value="blanco" /> Blanco<br />
						<input type="radio" name="opciones" id ="marron" value="marron" /> Marron
					</td>
				</tr>
				<tr>
					<td colspan="3" id="contenedor">
					</td>
				</tr>
		</form>
		<noscript>
			<p>No esta activado el soporte JavaScript</p>
		</noscript>
	</body>
</html>