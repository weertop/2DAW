<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
</head>

<script>

    var operando;
    var acumulador = 0;
    var sigueSum = true;

    window.onload = function(){
        //document.getElementById('on').onclick = activar;
        //document.getElementById('apagar').onclick = desactivar;

        document.querySelector('#on').onclick = activar;
        document.querySelector('#apagar').onclick = desactivar;

        var numeros = document.getElementsByName('numero');
        for(var  i=0;i<numeros.length;i++){
            numeros[i].onclick = mostrar;
        }

        var operaciones = document.getElementsByName('op');
        for(var  i=0;i<operaciones.length;i++){
            //operaciones[i].onclick = operacion;
            operaciones[i].onclick = operacion;
        }

        document.querySelector('#igual').onclick = mostrarResultado;

        document.querySelector('#borrar').onclick = borrar;
    }
   
    var activar = function(){
        var btnTodos = document.getElementsByTagName('input');
        for(var i=0;i<btnTodos.length;i++){
            btnTodos[i].disabled = false;
        }
        document.getElementById('on').disabled = true;
    }

    var desactivar = function(){
        var btnTodos = document.getElementsByTagName('input');
        for(var i=0;i<btnTodos.length;i++){
            btnTodos[i].disabled = true;
        }
        document.getElementById('on').disabled = false;
        document.getElementById('resul').value = '';
    }
    
    var mostrar = function(){
        document.getElementById('resul').value += this.value;
        if(sigueSum == true){
            acumulador = document.getElementById('resul').value;
        }
        console.log('acumulador->'+ acumulador);
    }

    var mostrarResultado = function (){
        console.log('operando->' + operando);
        switch(operando){
            case '-': acumulador -= parseFloat(document.getElementById('resul').value); break;
            case '*': acumulador *= parseFloat(document.getElementById('resul').value); break;
            case '/': acumulador /= parseFloat(document.getElementById('resul').value); break;
            case '+': acumulador += parseFloat(document.getElementById('resul').value); break;
        }
        document.getElementById('resul').value = acumulador;
        console.log('acumulador->'+ acumulador);
    }

    var operacion = function(){
        operando = this.value;
        console.log('operando->' + operando);
        document.getElementById('resul').value  = '';
        sigueSum = false;
        mostrar;                                                                        //ojoooooooooooooooooo llamada sin () porque sigue usando el this value que le pasa la otra llamada
    }

    var borrar = function(){
        document.getElementById('resul').value = '';
        acumulador = 0;
        operando = '';
        sigueSum = true;
        console.log('acumulador->'+ acumulador);
        console.log('operando->'+ operando);
    }

</script>



<body> 
<div align="center"> 
<table border="2">
    <tr >
        <td> 
            <table>
                <form name="formi" action="" method=""> 
                <th colspan="4" >
                    <input type="text" id="resul" value="" style="text-align:right" disabled readonly="readonly" name="ver"/></th> 
                    <tr><b> 
                        <td width="34"><b><b> 
                            <input id="borrar" type="button" name="c" value="C" class="imagenbotom" disabled style="text-align:center"  /> 
                        </b></b></td> 
                        </b>
                        <td width="33">
                            <input id="div" type="button" name="op" value="/" class="imagenbotom" disabled style="text-align:center"  />
                        </td>
                        <td width="33">
                            <input id="multi" type="button" name="op" value="*" class="imagenbotom" disabled style="text-align:center" />
                        </td>
                        <td width="31">
                            <input id="rest" type="button" name="op" value="-" class="imagenbotom" disabled style="text-align:center" />
                        </td>
                    </tr> 

                    <tr>
                        <td>
                            <input id="siete" type="button" name="numero" value="7" class="imagenbotom" disabled style="text-align:center" />
                        </td>
                        <td>
                            <input id="ocho" type="button"  name="numero" value="8" class="imagenbotom" disabled style="text-align:center"/>
                        </td>
                        <td>
                            <input  id="nueve" type="button" name="numero" value="9" onclick="" class="imagenbotom" disabled style="text-align:center"/>
                        </td> 
                        <td rowspan="2">
                            <input id="sumar" type="button" size="20" name="op" value="+" class="imagenespecial" disabled style="text-align:center" />
                        </td> 
                        <td rowspan="2">
                            <input id="on" type="button" size="20" name="on" value="ON" class="imagenespecial" style="text-align:center" />
                        </td> 
                    </tr> 
                    <tr>
                        <td>
                            <input id="cuatro" type="button" name="numero" value="4"  class="imagenbotom" disabled style="text-align:center"/>
                        </td>
                        <td>
                            <input id="cinco" type="button" name="numero" value="5" class="imagenbotom" disabled style="text-align:center"/>
                        </td>
                        <td>
                            <input id="seis" type="button" name="numero"  value="6" class="imagenbotom" disabled style="text-align:center"/>
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <input id="uno" type="button" name="numero" value="1"  class="imagenbotom" disabled style="text-align:center"/>
                        </td>
                        <td>
                            <input id="dos" type="button" name="numero"  value="2" class="imagenbotom" disabled style="text-align:center"/>
                        </td>
                        <td>
                            <input id="tres" type="button" name="numero" value="3"  class="imagenbotom" disabled style="text-align:center"/>
                        </td>
                        <td rowspan="2">
                            <input id="igual" type="button" name="igual" value="=" class="imagenespecial" disabled style="text-align:center" />
                        </td>
                        <td>
                            <input id="apagar" type="button" size="20" name="off" value="OFF" class="imagenespecial" disabled style="text-align:center" />
                        </td>
                    </tr> 
                    <tr>
                        <td colspan="2">
                            <input id="cero" type="button" name="numero" value="0" class="especialimagen" disabled style="text-align:center" />
                        </td>
                        <td>
                            <input id="punto" type="button" name="numero" value="." class="imagenbotom" disabled style="text-align:center" />
                        </td>
                    </tr> 
</form> 
</table></td></tr></table> 
</div> 
</body> 
</html> 